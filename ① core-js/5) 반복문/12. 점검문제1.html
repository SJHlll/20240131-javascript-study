<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>

  <script>
    // 1 ~ 100 사이의 랜덤한 숫자하나가 정답으로 주어진다.
    // 사용자는 이 사이의 숫자를 입력할 수 있어야 한다.
    // 시스템은 입력한 숫자를 판단하여 up인지 down인지 알려줘야 한다.
    // 만약 정답을 맞추지 못하면 지속해서 입력을 받고 결과를 알려준다.
    // 정답을 맞추면 맞췄다는 메시지와 함께 프로그램을 종료한다.

    // 사용자들은 입력 기회가 5번으로 제한된다.
    // 즉, 5번 안에 정답을 맞추지 못할 경우 게임이 강제종료된다.

    // 사용자는 게임 시작전에 난이도를 설정할 수 있다.
    // 난이도는 상, 중, 하 난이도가 존재하며
    // 난이도별 입력 횟수제한이 다르다.

    var random = Math.floor(Math.random() * 100) + 1;
    var attempts = 0;

    var min = 1;
    var max = 100;

    while (true) {
      // var answer = +prompt('1 ~ 3 중 하나를 입력해 난이도를 설정해주세요.')

      // if (answer === 1) {
      //   alert('난이도를 1로 설정하셨습니다. (시도횟수 총 5회)');
      //   var maxattempts = 5;
      //   break;
      // } else if (answer === 2) {
      //   alert('난이도를 2로 설정하셨습니다. (시도횟수 총 4회)');
      //   var maxattempts = 4;
      //   break;
      // } else if (answer === 3) {
      //   alert('난이도를 3으로 설정하셨습니다. (시도횟수 총 3회)');
      //   var maxattempts = 3;
      //   break;
      // } else {
      //   alert('숫자를 제대로 입력해주세요.');
      //   continue;
      // }
      var maxattempts = +prompt('1회에서 100회까지 원하시는 시도횟수를 골라주세요.')
      if (maxattempts < min || maxattempts > max) {
        alert('숫자를 제대로 입력해주세요.')
        continue;
      } else break;
    }

    alert(`시도횟수가 ${maxattempts}회로 설정됐습니다.`)

    while (attempts < maxattempts) {
      var game = +prompt(`업다운 게임, ${min}부터 ${max}까지 숫자 중 하나를 입력해주세요.`)

      if (game < min || game > max) {
        alert('범위 내의 숫자를 입력해주세요.');
        continue;
      }

      if (game < random) {
        alert(`숫자가 더 큽니다. 남은 시도횟수 ${maxattempts-attempts-1}회`);
        min = game + 1;
      } else if (game > random) {
        alert(`숫자가 더 작습니다. 남은 시도횟수 ${maxattempts-attempts-1}회`);
        max = game - 1;
      } else if (game === random) {
        alert(`정답입니다! 남은 시도횟수 ${maxattempts-attempts-1}회로 끝마치셨습니다.`)
        break;
      }
      attempts++;
    }
    alert(`게임 종료. 정답은 ${random}입니다.`)
  </script>

</body>

</html>