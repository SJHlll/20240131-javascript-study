<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>

  <script>
    const userList = [{
        account: "abc1234",
        userName: "대길이",
        job: "추노",
        address: "서울",
        hobbies: ["수영", "축구", "테니스"],
      },
      {
        account: "banana",
        userName: "빠나나",
        job: "과일",
        address: "서울",
        hobbies: ["푸드파이팅", "테니스"],
      },
      {
        account: "park1234",
        userName: "주차왕",
        job: "발렛파킹",
        address: "경기",
        hobbies: ["족구", "축구", "테니스", "영화감상"],
      },
      {
        account: "fire",
        userName: "불꽃남자카리스마",
        job: "게이머",
        address: "서울",
        hobbies: ["독서", "테니스"],
      },
    ];

    // 배열 고차함수
    // forEach() : 배열의 요소를 반복하면서 하나씩 소비함

    userList.forEach(user => {
      console.log(`ㅎㅇㅎㅇ 나 ${user.userName}, ${user.job}임`);
    });

    const foodList = ['짜장면', '탕수육', '치킨'];
    foodList.forEach(food => console.log(`${food} 먹을래요`))


    console.log('===================================');

    // filter
    // 특정 조건에 의해 필터링 된 새로운 배열이 리턴
    const numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];


    const newArray = numbers.filter(num => num % 3 === 0);
    console.log(newArray);

    // 회원 중 아이디가 1234인 사원을 필터링

    const newUserList = userList.filter(user => user.account === 'abc1234');
    console.log(newUserList);

    console.log('=============================');
    // 배열 고차함수 : map
    // 특정 배열에서 특정 조건에 맞는 값들만 따로 모아
    // 새롭게 매핑한 배열

    const nnn = numbers.map(n => n ** 2);
    console.log(nnn);


    const plus2 = numbers.map(n => n + 2);
    console.log(plus2);



    // 회원들의 취미 중 첫번째 취미만 새 배열로 받기
    const firstHobby = userList.map(user => user.hobbies[0]);
    console.log(firstHobby);



    // 회원 목록에서 회원의 이름과 주소만 추출

    const userNameAddress = userList.map(user => {
      return {
        userName: user.userName,
        address: user.address
      }
    });
    console.log(userNameAddress);


    // filter -> 10개짜리 배열에서 조건에맞는 몇개만 필터링
    // 필터의 결과 배열은 개수가 10개 이하일 가능성이 크다.

    // map -> 10개짜리 배열에서 조건대로 10개를 전부 매핑
    // 맵의 결과 배열 개수는 무조건 10개다.

    console.log('===============================');

    const appleBasket = [{
        color: 'green',
        sweet: 13
      },
      {
        color: 'red',
        sweet: 14
      },
      {
        color: 'red',
        sweet: 11
      },
      {
        color: 'green',
        sweet: 6
      },
      {
        color: 'green',
        sweet: 7
      },
      {
        color: 'green',
        sweet: 9
      },
    ];

    // 사과 중 녹색이면서 당도가 9이상인 사과만 선별
    // 이 사과는 ##색이고, 당도는 ##이다.
    // 위 문자대로 배열을 만들기

    // const sweetgreen = appleBasket.filter(apple => apple.color === 'green' && apple.sweet >= 9);
    // console.log(sweetgreen);

    // const say = sweetgreen.map(apple => `이 사과의 색깔은 ${apple.color}이고, 당도는 ${apple.sweet}이다.`)
    // console.log(say);


    const sweetgreen = appleBasket
      .filter(apple => apple.color === 'green' && apple.sweet >= 9)
      .map(apple => `이 사과의 색깔은 ${apple.color}이고, 당도는 ${apple.sweet}이다.`)
      .forEach(say => console.log(say));
    // 이 사과의 색깔은 green이고, 당도는 13이다.
    // 이 사과의 색깔은 green이고, 당도는 9이다.



    console.log('===================================');

    // 회원목록에서 서울에 사는 회원들의 두번째 취미만 배열에 모아서
    // ###회원님의 두번째 취미는 ###입니다. 를 반복출력

    const SeoulTwoHobbies = userList
      .filter(user => user.address === '서울')
      .map(user => `${user.userName} 회원님의 두번째 취미는 ${user.hobbies[1]}입니다.`)
      .forEach(say => console.log(say));

 
  </script>

</body>

</html>